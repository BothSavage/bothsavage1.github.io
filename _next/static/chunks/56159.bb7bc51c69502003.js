"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56159],{56159:function(e,t,r){r.r(t),r.d(t,{default:function(){return CustomContextMenu}});var n=r(85893),i=r(41664),o=r.n(i),s=r(11163),a=r(67294),l=r(54110),c=r(90054),hooks_useWindowSize=()=>{let[e,t]=(0,a.useState)({width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});return(0,a.useEffect)(()=>{let onResize=()=>{t({width:document.documentElement.clientWidth,height:document.documentElement.clientHeight})};return onResize(),window.addEventListener("resize",onResize),()=>{window.removeEventListener("resize",onResize)}},[]),e},d=r(66043);function CustomContextMenu(e){let[t,r]=(0,a.useState)({x:"0px",y:"0px"}),[i,u]=(0,a.useState)(!1),{isDarkMode:h,updateDarkMode:f,locale:x}=(0,l.O)(),w=(0,a.useRef)(null),m=hooks_useWindowSize(),[p,v]=(0,a.useState)(0),[N,E]=(0,a.useState)(0),{latestPosts:g}=e,j=(0,s.useRouter)();return(0,a.useLayoutEffect)(()=>{v(w.current.offsetWidth),E(w.current.offsetHeight)},[]),(0,a.useEffect)(()=>{let handleContextMenu=e=>{e.preventDefault();let t=e.clientX<m.width-p?e.clientX:m.width-p,n=e.clientY<m.height-N?e.clientY:m.height-N;r({y:"".concat(n,"px"),x:"".concat(t,"px")}),u(!0)},handleClick=e=>{w.current&&!w.current.contains(e.target)&&u(!1)};return window.addEventListener("contextmenu",handleContextMenu),window.addEventListener("click",handleClick),()=>{window.removeEventListener("contextmenu",handleContextMenu),window.removeEventListener("click",handleClick)}},[m]),(0,n.jsx)("div",{ref:w,style:{top:t.y,left:t.x},className:"".concat(i?"":"invisible opacity-0"," select-none transition-opacity duration-200 fixed z-50"),children:(0,n.jsxs)("div",{className:"rounded-xl w-52 dark:hover:border-yellow-600 bg-white dark:bg-[#040404] dark:text-gray-200 dark:border-gray-600 p-3 border drop-shadow-lg flex-col duration-300 transition-colors",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("i",{onClick:function(){window.history.back()},className:"hover:bg-blue-600 hover:text-white px-2 py-2 text-center w-8 rounded cursor-pointer fa-solid fa-arrow-left"}),(0,n.jsx)("i",{onClick:function(){window.history.forward()},className:"hover:bg-blue-600 hover:text-white px-2 py-2 text-center w-8 rounded cursor-pointer fa-solid fa-arrow-right"}),(0,n.jsx)("i",{onClick:function(){window.location.reload()},className:"hover:bg-blue-600 hover:text-white px-2 py-2 text-center w-8 rounded cursor-pointer fa-solid fa-rotate-right"}),(0,n.jsx)("i",{onClick:function(){window.scrollTo({top:0,behavior:"smooth"}),u(!1)},className:"hover:bg-blue-600 hover:text-white px-2 py-2 text-center w-8 rounded cursor-pointer fa-solid fa-arrow-up"})]}),(0,n.jsx)("hr",{className:"my-2 border-dashed"}),(0,n.jsxs)("div",{className:"w-full px-2",children:[(0,n.jsxs)("div",{onClick:function(){let e=Math.floor(Math.random()*g.length),t=g[e];j.push("".concat((0,d.J)("SUB_PATH",""),"/").concat(null==t?void 0:t.slug))},title:x.MENU.WALK_AROUND,className:"w-full px-2 h-10 flex justify-start items-center flex-nowrap cursor-pointer hover:bg-blue-600 hover:text-white rounded-lg duration-200 transition-all",children:[(0,n.jsx)("i",{className:"fa-solid fa-podcast mr-2"}),(0,n.jsx)("div",{className:"whitespace-nowrap",children:x.MENU.WALK_AROUND})]}),(0,n.jsxs)(o(),{href:"/category",title:x.MENU.CATEGORY,className:"w-full px-2 h-10 flex justify-start items-center flex-nowrap cursor-pointer hover:bg-blue-600 hover:text-white rounded-lg duration-200 transition-all",children:[(0,n.jsx)("i",{className:"fa-solid fa-square-minus mr-2"}),(0,n.jsx)("div",{className:"whitespace-nowrap",children:x.MENU.CATEGORY})]}),(0,n.jsxs)(o(),{href:"/tag",title:x.MENU.TAGS,className:"w-full px-2 h-10 flex justify-start items-center flex-nowrap cursor-pointer hover:bg-blue-600 hover:text-white rounded-lg duration-200 transition-all",children:[(0,n.jsx)("i",{className:"fa-solid fa-tag mr-2"}),(0,n.jsx)("div",{className:"whitespace-nowrap",children:x.MENU.TAGS})]})]}),(0,n.jsx)("hr",{className:"my-2 border-dashed"}),(0,n.jsxs)("div",{className:"w-full px-2",children:[(0,n.jsxs)("div",{onClick:function(){let e=window.location.href;navigator.clipboard.writeText(e).then(()=>{console.log("页面地址已复制")}).catch(e=>{console.error("复制页面地址失败:",e)}),u(!1)},title:x.MENU.COPY_URL,className:"w-full px-2 h-10 flex justify-start items-center flex-nowrap cursor-pointer hover:bg-blue-600 hover:text-white rounded-lg duration-200 transition-all",children:[(0,n.jsx)("i",{className:"fa-solid fa-arrow-up-right-from-square mr-2"}),(0,n.jsx)("div",{className:"whitespace-nowrap",children:x.MENU.COPY_URL})]}),(0,n.jsxs)("div",{onClick:function(){var e,t;let r=!h;(0,c.saveDarkModeToCookies)(r),f(r);let n=document.getElementsByTagName("html")[0];null===(e=n.classList)||void 0===e||e.remove(r?"light":"dark"),null===(t=n.classList)||void 0===t||t.add(r?"dark":"light")},title:h?x.MENU.LIGHT_MODE:x.MENU.DARK_MODE,className:"w-full px-2 h-10 flex justify-start items-center flex-nowrap cursor-pointer hover:bg-blue-600 hover:text-white rounded-lg duration-200 transition-all",children:[h?(0,n.jsx)("i",{className:"fa-regular fa-sun mr-2"}):(0,n.jsx)("i",{className:"fa-regular fa-moon mr-2"}),(0,n.jsxs)("div",{className:"whitespace-nowrap",children:[" ",h?x.MENU.LIGHT_MODE:x.MENU.DARK_MODE]})]}),(0,d.J)("CUSTOM_RIGHT_CLICK_CONTEXT_MENU_THEME_SWITCH")&&(0,n.jsxs)("div",{onClick:function(){let e=c.THEMES[Math.floor(Math.random()*c.THEMES.length)],t=j.query;t.theme=e,j.push({pathname:j.pathname,query:t})},title:x.MENU.THEME_SWITCH,className:"w-full px-2 h-10 flex justify-start items-center flex-nowrap cursor-pointer hover:bg-blue-600 hover:text-white rounded-lg duration-200 transition-all",children:[(0,n.jsx)("i",{className:"fa-solid fa-palette mr-2"}),(0,n.jsx)("div",{className:"whitespace-nowrap",children:x.MENU.THEME_SWITCH})]})]})]})})}}}]);