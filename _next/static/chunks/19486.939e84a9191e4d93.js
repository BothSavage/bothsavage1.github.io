"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[19486],{19486:function(e,t,a){a.r(t);var r=a(85893),n=a(11163),c=a(54110),l=a(67294);let o=!1;t.default=e=>{let{currentTag:t,keyword:a,cRef:s}=e,{locale:u}=(0,c.O)(),i=(0,n.useRouter)(),h=(0,l.useRef)(null);(0,l.useImperativeHandle)(s,()=>({focus:()=>{var e;null==h||null===(e=h.current)||void 0===e||e.focus()}}));let handleSearch=()=>{let e=h.current.value;e&&""!==e?i.push({pathname:"/search/"+e}).then(t=>{console.log("搜索",e)}):i.push({pathname:"/"}).then(e=>{})},cleanSearch=()=>{h.current.value="",d(!1)};function lockSearchInput(){o=!0}let[p,d]=(0,l.useState)(!1),updateSearchKey=e=>{o||(h.current.value=e,e?d(!0):d(!1))};return(0,r.jsxs)("section",{className:"flex w-full bg-gray-100",children:[(0,r.jsx)("input",{ref:h,type:"text",placeholder:t?"".concat(u.SEARCH.TAGS," #").concat(t):"".concat(u.SEARCH.ARTICLES),className:"outline-none w-full text-sm pl-4 transition focus:shadow-lg font-light leading-10 text-black bg-gray-100 dark:bg-gray-900 dark:text-white",onKeyUp:e=>{13===e.keyCode?handleSearch(h.current.value):27===e.keyCode&&cleanSearch()},onCompositionStart:lockSearchInput,onCompositionUpdate:lockSearchInput,onCompositionEnd:function(){o=!1},onChange:e=>updateSearchKey(e.target.value),defaultValue:a||""}),(0,r.jsx)("div",{className:"-ml-8 cursor-pointer float-right items-center justify-center py-2",onClick:handleSearch,children:(0,r.jsx)("i",{className:"hover:text-black transform duration-200  text-gray-500 cursor-pointer fas fa-search"})}),p&&(0,r.jsx)("div",{className:"-ml-12 cursor-pointer dark:bg-gray-600 dark:hover:bg-gray-800 float-right items-center justify-center py-2",children:(0,r.jsx)("i",{className:"hover:text-black transform duration-200 text-gray-400 cursor-pointer fas fa-times",onClick:cleanSearch})})]})}}}]);