"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[47598,20648,14418,14995,59167,64280,90949],{57404:function(e,t,a){a.d(t,{Z:function(){return AlgoliaSearchModal}});var n=a(85893),r=a(67294),s=a(24955),l=a.n(s),o=a(18065),i=a(41664),c=a.n(i),d=a(54110),u=a(23493),f=a.n(u),m=a(66043);function AlgoliaSearchModal(e){let{cRef:t}=e,[a,s]=(0,r.useState)([]),[i,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(0),[h,x]=(0,r.useState)(null),[p,v]=(0,r.useState)(0),[y,g]=(0,r.useState)(0),[b,j]=(0,r.useState)(0);(0,r.useImperativeHandle)(t,()=>({openSearch:()=>{c(!0)}}));let w=l()((0,m.J)("ALGOLIA_APP_ID"),(0,m.J)("ALGOLIA_SEARCH_ONLY_APP_KEY")),k=w.initIndex((0,m.J)("ALGOLIA_INDEX")),handleSearch=async(e,t)=>{if(x(e),u(t),s([]),j(0),v(0),g(0),e&&""!==e)try{let a=await k.search(e,{page:t,hitsPerPage:10}),{hits:n,nbHits:r,nbPages:l,processingTimeMS:i}=a;j(i),v(l),g(r),s(n);let c=document.getElementById("search-wrapper").getElementsByClassName("replace");setTimeout(()=>{(0,o.Z)({doms:c,search:e,target:{element:"span",className:"text-blue-600 border-b border-dashed"}})},150)}catch(e){console.error("Algolia search error:",e)}},N=(0,r.useRef)(f()(handleSearch,300)),handleInputChange=e=>{let t=e.target.value;N.current(t,0)},closeModal=()=>{c(!1)};return(0,m.J)("ALGOLIA_APP_ID")?(0,n.jsxs)("div",{id:"search-wrapper",className:"".concat(i?"opacity-100":"invisible opacity-0 pointer-events-none"," z-30 fixed h-screen w-screen left-0 top-0 mt-12 flex items-start justify-center"),children:[(0,n.jsxs)("div",{className:"".concat(i?"opacity-100":"invisible opacity-0 translate-y-10"," flex flex-col justify-between w-full min-h-[10rem] max-w-xl dark:bg-hexo-black-gray dark:border-gray-800 bg-white dark:bg- p-5 rounded-lg z-50 shadow border hover:border-blue-600 duration-300 transition-all "),children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("div",{className:"text-2xl text-blue-600 font-bold",children:"搜索"}),(0,n.jsx)("div",{children:(0,n.jsx)("i",{className:"text-gray-600 fa-solid fa-xmark p-1 cursor-pointer hover:text-blue-600",onClick:closeModal})})]}),(0,n.jsx)("input",{type:"text",placeholder:"在这里输入搜索关键词...",onChange:e=>handleInputChange(e),className:"text-black dark:text-gray-200 bg-gray-50 dark:bg-gray-600 outline-blue-500 w-full px-4 my-2 py-1 mb-4 border rounded-md"}),(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)(TagGroups,{})}),(0,n.jsx)("ul",{children:a.map(e=>(0,n.jsx)("li",{className:"replace my-2",children:(0,n.jsx)("a",{href:"".concat((0,m.J)("SUB_PATH",""),"/").concat(e.slug),className:"font-bold hover:text-blue-600 text-black dark:text-gray-200",children:e.title})},e.objectID))}),(0,n.jsx)(Pagination,{totalPage:p,page:d,switchPage:e=>{N.current(h,e)}}),(0,n.jsx)("div",{children:y>0&&(0,n.jsxs)("div",{children:["共搜索到 ",y," 条结果，用时 ",b," 毫秒"]})}),(0,n.jsxs)("div",{className:"text-gray-600 mt-2",children:[(0,n.jsxs)("span",{children:[(0,n.jsx)("i",{className:"fa-brands fa-algolia"})," Algolia 提供搜索服务"]})," "]})]}),(0,n.jsx)("div",{onClick:closeModal,className:"z-30 fixed top-0 left-0 w-full h-full flex items-center justify-center glassmorphism"})]}):(0,n.jsx)(n.Fragment,{})}function TagGroups(e){let{tagOptions:t}=(0,d.O)(),a=null==t?void 0:t.slice(0,10);return(0,n.jsx)("div",{id:"tags-group",className:"dark:border-gray-700 space-y-2",children:null==a?void 0:a.map((e,t)=>(0,n.jsx)(c(),{passHref:!0,href:"/tag/".concat(encodeURIComponent(e.name)),className:"cursor-pointer inline-block whitespace-nowrap",children:(0,n.jsxs)("div",{className:" flex items-center text-black dark:text-gray-300 hover:bg-blue-600 dark:hover:bg-yellow-600 hover:scale-110 hover:text-white rounded-lg px-2 py-0.5 duration-150 transition-all",children:[(0,n.jsxs)("div",{className:"text-lg",children:[e.name," "]}),e.count?(0,n.jsx)("sup",{className:"relative ml-1",children:e.count}):(0,n.jsx)(n.Fragment,{})]})},t))})}function Pagination(e){let{totalPage:t,page:a,switchPage:r}=e;if(t<=0)return(0,n.jsx)(n.Fragment,{});let s=[];for(let e=0;e<t;e++){let t=a===e;s.push(function(e,t,a){return(0,n.jsx)("div",{onClick:()=>a(e),className:"".concat(t?"font-bold text-white bg-blue-600 rounded":"hover:text-blue-600 hover:font-bold"," text-center cursor-pointer  w-6 h-6 "),children:e+1})}(e,t,r))}return(0,n.jsx)("div",{className:"flex space-x-1 w-full justify-center py-1",children:s.map(e=>e)})}},18065:function(e,t,a){a.d(t,{Z:function(){return replaceSearchResult}});var n=a(22006);async function replaceSearchResult(e){let{doms:t,search:a,target:r}=e;if(t&&a&&r)try{await (0,n.TY)("https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js","js");let e=window.Mark;if(t instanceof HTMLCollection)for(let n of t){let t=RegExp(a,"gim"),s=new e(n);s.markRegExp(t,r)}else{let n=RegExp(a,"gim"),s=new e(t);s.markRegExp(n,r)}}catch(e){console.error("markjs 加载失败",e)}}},20648:function(e,t,a){a.r(t);var n=a(85893),r=a(54110),s=a(90054),l=a(99088),o=a(67294);t.default=e=>{let{cRef:t,className:a}=e,{isDarkMode:i,updateDarkMode:c}=(0,r.O)();(0,o.useImperativeHandle)(t,()=>({handleChangeDarkMode:()=>{handleChangeDarkMode()}}));let handleChangeDarkMode=()=>{var e,t;let a=!i;(0,s.saveDarkModeToCookies)(a),c(a);let n=document.getElementsByTagName("html")[0];null===(e=n.classList)||void 0===e||e.remove(a?"light":"dark"),null===(t=n.classList)||void 0===t||t.add(a?"dark":"light")};return(0,n.jsx)("div",{onClick:handleChangeDarkMode,className:"".concat(a||""," cursor-pointer hover: scale-100 hover:bg-black hover:bg-opacity-10 rounded-full w-10 h-10 flex justify-center items-center duration-200 transition-all"),children:(0,n.jsxs)("div",{id:"darkModeButton",className:" cursor-pointer hover: scale-50 w-10 h-10 ",children:[" ",i?(0,n.jsx)(l.kO,{}):(0,n.jsx)(l.JF,{})]})})}},14418:function(e,t,a){a.r(t);var n=a(85893),r=a(99088),s=a(74940),l=a(41664),o=a.n(l),i=a(66043);t.default=e=>{let{siteInfo:t}=e;return(0,n.jsx)(o(),{href:"/",passHref:!0,legacyBehavior:!0,children:(0,n.jsxs)("div",{className:"flex flex-nowrap justify-center items-center cursor-pointer font-extrabold",children:[(0,n.jsx)(s.Z,{src:null==t?void 0:t.icon,width:24,height:24,alt:(0,i.J)("AUTHOR"),className:"mr-4 hidden md:block"}),(0,n.jsxs)("div",{id:"logo-text",className:"group rounded-2xl flex-none relative",children:[(0,n.jsx)("div",{className:"group-hover:opacity-0 opacity-100 visible group-hover:invisible text-lg my-auto rounded dark:border-white duration-200",children:(0,i.J)("TITLE")}),(0,n.jsx)("div",{className:"flex justify-center rounded-2xl group-hover:bg-indigo-600 w-full group-hover:opacity-100 opacity-0 invisible group-hover:visible absolute top-0 py-1 duration-200",children:(0,n.jsx)(r.SK,{className:"w-6 h-6 stroke-white stroke-2 "})})]})]})})}},14995:function(e,t,a){a.r(t),a.d(t,{MenuItemDrop:function(){return MenuItemDrop}});var n=a(85893),r=a(41664),s=a.n(r),l=a(67294);let MenuItemDrop=e=>{var t,a;let{link:r}=e,[o,i]=(0,l.useState)(!1),c=(null==r?void 0:null===(t=r.subMenus)||void 0===t?void 0:t.length)>0;return r&&r.show?(0,n.jsxs)("div",{onMouseOver:()=>i(!0),onMouseOut:()=>i(!1),children:[!c&&(0,n.jsxs)(s(),{target:(null==r?void 0:null===(a=r.to)||void 0===a?void 0:a.indexOf("http"))===0?"_blank":"_self",href:null==r?void 0:r.to,className:"font-sans hover:bg-black hover:bg-opacity-10 rounded-2xl flex justify-center items-center px-3 py-1 no-underline tracking-widest",children:[(null==r?void 0:r.icon)&&(0,n.jsx)("i",{className:null==r?void 0:r.icon})," ",null==r?void 0:r.name]}),c&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"cursor-pointer font-sans hover:bg-black hover:bg-opacity-10 rounded-2xl flex justify-center items-center px-3 py-1 no-underline tracking-widest",children:[(null==r?void 0:r.icon)&&(0,n.jsx)("i",{className:null==r?void 0:r.icon})," ",null==r?void 0:r.name]})}),c&&(0,n.jsx)("ul",{style:{backdropFilter:"blur(3px)"},className:"".concat(o?"visible opacity-100 top-14":"invisible opacity-0 top-20"," drop-shadow-md overflow-hidden rounded-xl bg-white transition-all duration-300 z-20 absolute"),children:r.subMenus.map((e,t)=>{var a;return(0,n.jsx)("li",{className:"cursor-pointer hover:bg-blue-600 hover:text-white text-gray-900  tracking-widest transition-all duration-200 dark:border-gray-700  py-1 pr-6 pl-3",children:(0,n.jsx)(s(),{href:e.to,target:(null==r?void 0:null===(a=r.to)||void 0===a?void 0:a.indexOf("http"))===0?"_blank":"_self",children:(0,n.jsxs)("span",{className:"text-sm text-nowrap font-extralight",children:[(null==r?void 0:r.icon)&&(0,n.jsx)("i",{className:null==e?void 0:e.icon,children:" \xa0 "}),e.title]})})},t)})})]}):null}},68225:function(e,t,a){a.r(t),a.d(t,{MenuListTop:function(){return MenuListTop}});var n=a(85893),r=a(54110),s=a(25706),l=a(66043),o=a(14995);let MenuListTop=e=>{let{customNav:t,customMenu:a}=e,{locale:i}=(0,r.O)(),c=[{id:1,icon:"fa-solid fa-house",name:i.NAV.INDEX,to:"/",show:(0,l.J)("HEO_MENU_INDEX",null,s.default)},{id:2,icon:"fas fa-search",name:i.NAV.SEARCH,to:"/search",show:(0,l.J)("HEO_MENU_SEARCH",null,s.default)},{id:3,icon:"fas fa-archive",name:i.NAV.ARCHIVE,to:"/archive",show:(0,l.J)("HEO_MENU_ARCHIVE",null,s.default)}];return(t&&(c=c.concat(t)),(0,l.J)("CUSTOM_MENU")&&(c=a),c&&0!==c.length)?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("nav",{id:"nav-mobile",className:"leading-8 justify-center font-light w-full flex",children:null==c?void 0:c.map((e,t)=>e&&e.show&&(0,n.jsx)(o.MenuItemDrop,{link:e},t))})}):null}},47598:function(e,t,a){a.r(t);var n=a(85893),r=a(5379),s=a.n(r),l=a(67294),o=a(14418),i=a(93096),c=a.n(i),d=a(59167),u=a(90949),f=a(20648),m=a(94754),h=a(64280),x=a(68225),p=a(22006),v=a(66043);t.default=e=>{let[t,a]=(0,l.useState)(!1),[r,i]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),[b,j]=(0,l.useState)(0),w=(0,l.useRef)(),k=(0,l.useCallback)(c()(()=>{let e=window.scrollY;e<=0?(a(!1),g(!1),document.querySelector("#post-bg")&&(a(!0),i(!0),g(!1))):(a(!0),i(!1),g(!0))},200));return(0,l.useEffect)(()=>(k(),window.addEventListener("scroll",k),()=>{window.removeEventListener("scroll",k)}),[]),(0,l.useEffect)(()=>{let e=0,t=!1,handleScroll=()=>{t||(window.requestAnimationFrame(()=>{let a=window.scrollY;a>e?j(1):j(0),e=a,t=!1}),t=!0)};return p.jU&&window.addEventListener("scroll",handleScroll),()=>{p.jU&&window.removeEventListener("scroll",handleScroll)}},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s(),{id:"46a4f6ec6f7b253d",children:"@-webkit-keyframes fade-in-down{0%{opacity:.5;-webkit-transform:translatey(-30%);transform:translatey(-30%)}100%{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fade-in-down{0%{opacity:.5;-moz-transform:translatey(-30%);transform:translatey(-30%)}100%{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fade-in-down{0%{opacity:.5;-o-transform:translatey(-30%);transform:translatey(-30%)}100%{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fade-in-down{0%{opacity:.5;-webkit-transform:translatey(-30%);-moz-transform:translatey(-30%);-o-transform:translatey(-30%);transform:translatey(-30%)}100%{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}@-webkit-keyframes fade-in-up{0%{opacity:.5;-webkit-transform:translatey(30%);transform:translatey(30%)}100%{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fade-in-up{0%{opacity:.5;-moz-transform:translatey(30%);transform:translatey(30%)}100%{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fade-in-up{0%{opacity:.5;-o-transform:translatey(30%);transform:translatey(30%)}100%{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fade-in-up{0%{opacity:.5;-webkit-transform:translatey(30%);-moz-transform:translatey(30%);-o-transform:translatey(30%);transform:translatey(30%)}100%{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}.fade-in-down.jsx-46a4f6ec6f7b253d{-webkit-animation:fade-in-down.3s ease-in-out;-moz-animation:fade-in-down.3s ease-in-out;-o-animation:fade-in-down.3s ease-in-out;animation:fade-in-down.3s ease-in-out}.fade-in-up.jsx-46a4f6ec6f7b253d{-webkit-animation:fade-in-up.3s ease-in-out;-moz-animation:fade-in-up.3s ease-in-out;-o-animation:fade-in-up.3s ease-in-out;animation:fade-in-up.3s ease-in-out}"}),(0,n.jsx)("nav",{id:"nav",className:"jsx-46a4f6ec6f7b253d "+"".concat(t?"fixed":"relative bg-none"," ").concat(r?"text-white ":"text-black dark:text-white","  ").concat(y?"bg-white dark:bg-[#18171d]":"bg-none"," z-20 h-16 top-0 w-full"),children:(0,n.jsxs)("div",{className:"jsx-46a4f6ec6f7b253d flex h-full mx-auto justify-between items-center max-w-[86rem] px-8",children:[(0,n.jsx)("div",{className:"jsx-46a4f6ec6f7b253d flex",children:(0,n.jsx)(o.default,{...e})}),(0,n.jsxs)("div",{id:"nav-bar-swipe",className:"jsx-46a4f6ec6f7b253d "+"hidden lg:flex flex-grow flex-col items-center justify-center h-full relative w-full ".concat(0===b?"fade-in-down":"fade-in-up"),children:[0===b&&(0,n.jsx)(x.MenuListTop,{...e}),1===b&&(0,n.jsxs)("h1",{className:"jsx-46a4f6ec6f7b253d font-bold text-center text-light-400 dark:text-gray-400",children:[(0,v.J)("AUTHOR")||(0,v.J)("TITLE")," ",(0,v.J)("BIO")&&(0,n.jsx)(n.Fragment,{children:"|"})," ",(0,v.J)("BIO")]})]}),(0,n.jsxs)("div",{className:"jsx-46a4f6ec6f7b253d flex flex-shrink-0 justify-center items-center",children:[(0,n.jsx)(d.default,{...e}),(0,n.jsx)(u.default,{...e}),!JSON.parse((0,v.J)("THEME_SWITCH"))&&(0,n.jsx)("div",{className:"jsx-46a4f6ec6f7b253d hidden md:block",children:(0,n.jsx)(f.default,{...e})}),(0,n.jsx)(h.default,{}),(0,n.jsx)("div",{onClick:()=>{var e;null==w||null===(e=w.current)||void 0===e||e.toggleSlideOvers()},className:"jsx-46a4f6ec6f7b253d flex lg:hidden w-8 justify-center items-center h-8 cursor-pointer",children:(0,n.jsx)("i",{className:"jsx-46a4f6ec6f7b253d fas fa-bars"})})]}),(0,n.jsx)(m.default,{cRef:w,...e})]})})]})}},59167:function(e,t,a){a.r(t),a.d(t,{default:function(){return RandomPostButton}});var n=a(85893),r=a(66043),s=a(54110),l=a(11163);function RandomPostButton(e){let{latestPosts:t}=e,a=(0,l.useRouter)(),{locale:o}=(0,s.O)();return(0,n.jsx)("div",{title:o.MENU.WALK_AROUND,className:"cursor-pointer hover:bg-black hover:bg-opacity-10 rounded-full w-10 h-10 flex justify-center items-center duration-200 transition-all",onClick:function(){let e=Math.floor(Math.random()*t.length),n=t[e];a.push("".concat((0,r.J)("SUB_PATH",""),"/").concat(null==n?void 0:n.slug))},children:(0,n.jsx)("i",{className:"fa-solid fa-podcast"})})}},64280:function(e,t,a){a.r(t),a.d(t,{default:function(){return ReadingProgress}});var n=a(85893),r=a(99088),s=a(67294);function ReadingProgress(){let[e,t]=(0,s.useState)(0);return(0,s.useEffect)(()=>{let e;function updateScrollPercentage(){(function(){let e=document.documentElement.scrollHeight,a=document.documentElement.clientHeight,n=window.scrollY||window.pageYOffset;t(Math.floor(n/(e-a-20)*100))})(),e=null}function handleAnimationFrame(){e||(e=requestAnimationFrame(updateScrollPercentage))}return window.addEventListener("scroll",handleAnimationFrame),()=>{window.removeEventListener("scroll",handleAnimationFrame),e&&cancelAnimationFrame(e)}},[]),(0,n.jsxs)("div",{title:"阅读进度",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"".concat(e>0?"w-10 h-10 ":"w-0 h-0 opacity-0"," group cursor-pointer  hover:bg-black hover:bg-opacity-10 rounded-full flex justify-center items-center duration-200 transition-all"),children:[(0,n.jsx)(r.z$,{className:"w-5 h-5 hidden group-hover:block"}),(0,n.jsx)("div",{className:"group-hover:hidden text-xs flex justify-center items-center rounded-full w-6 h-6 bg-black text-white",children:e<100?e:(0,n.jsx)(r.z$,{className:"w-5 h-5 fill-white"})})]})}},90949:function(e,t,a){a.r(t),a.d(t,{default:function(){return SearchButton}});var n=a(85893),r=a(66043),s=a(54110),l=a(11163),o=a(57404),i=a(67294);function SearchButton(e){let{locale:t}=(0,s.O)(),a=(0,l.useRouter)(),c=(0,i.useRef)(null);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{onClick:function(){(0,r.J)("ALGOLIA_APP_ID")?c.current.openSearch():a.push("/search")},title:t.NAV.SEARCH,alt:t.NAV.SEARCH,className:"cursor-pointer hover:bg-black hover:bg-opacity-10 rounded-full w-10 h-10 flex justify-center items-center duration-200 transition-all",children:(0,n.jsx)("i",{title:t.NAV.SEARCH,className:"fa-solid fa-magnifying-glass"})}),(0,n.jsx)(o.Z,{cRef:c,...e})]})}}}]);